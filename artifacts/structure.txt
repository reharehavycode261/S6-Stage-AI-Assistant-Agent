ai-agent/
â”œâ”€â”€ main.py                           # Point d'entrÃ©e FastAPI avec webhooks Monday.com
â”œâ”€â”€ requirements.txt                  # DÃ©pendances Python
â”œâ”€â”€ .env                             # Variables d'environnement (Ã  crÃ©er depuis env_template.txt)
â”œâ”€â”€ env_template.txt                 # Template des variables d'environnement RabbitMQ
â”œâ”€â”€ docker-compose.rabbitmq.yml     # Configuration Docker RabbitMQ + PostgreSQL
â”œâ”€â”€ test_rabbitmq_integration.py    # Script de test intÃ©gration RabbitMQ
â”œâ”€â”€
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ settings.py                  # Configuration centralisÃ©e RabbitMQ + PostgreSQL
â”‚   â””â”€â”€ rabbitmq.conf               # Configuration RabbitMQ optimisÃ©e
â”œâ”€â”€
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ __init__.py                 # Exports WorkflowState, TaskRequest, WebhookPayload
â”‚   â””â”€â”€ schemas.py                  # SchÃ©mas Pydantic (WorkflowState, WebhookPayload, etc.)
â”œâ”€â”€
â”œâ”€â”€ tools/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ base_tool.py               # Classe de base pour tous les outils
â”‚   â”œâ”€â”€ ai_engine_hub.py           # Hub multi-provider (Claude + OpenAI) avec ANALYSIS
â”‚   â”œâ”€â”€ claude_code_tool.py        # Outil Claude Code SDK
â”‚   â”œâ”€â”€ github_tool.py             # Outil GitHub API (PR creation)
â”‚   â”œâ”€â”€ monday_tool.py             # Outil Monday.com API (status update)
â”‚   â””â”€â”€ testing_engine.py          # Moteur de tests avancÃ© (pytest, coverage)
â”œâ”€â”€
â”œâ”€â”€ nodes/                          # NÅ“uds LangGraph conformes Ã  la conception
â”‚   â”œâ”€â”€ __init__.py                # Export des 8 nÅ“uds
â”‚   â”œâ”€â”€ prepare_node.py            # prepare_environment (clone repo, setup)
â”‚   â”œâ”€â”€ analyze_node.py            # analyze_requirements (AI analysis) âœ¨ NOUVEAU
â”‚   â”œâ”€â”€ implement_node.py          # implement_task_multi_provider (AI Hub)
â”‚   â”œâ”€â”€ test_node.py              # run_comprehensive_tests (pytest + coverage)
â”‚   â”œâ”€â”€ debug_node.py             # debug_with_ai_assistance (AI debugging)
â”‚   â”œâ”€â”€ qa_node.py                # quality_assurance_automation (linters) âœ¨ NOUVEAU
â”‚   â”œâ”€â”€ finalize_node.py          # finalize_with_monitoring (GitHub PR)
â”‚   â””â”€â”€ update_node.py            # update_monday (status + comment)
â”œâ”€â”€
â”œâ”€â”€ graph/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ workflow_graph.py          # LangGraph workflow avec 8 nÅ“uds complets
â”œâ”€â”€
â”œâ”€â”€ services/                       # Services backend RabbitMQ
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ celery_app.py              # Configuration Celery + RabbitMQ + Dead Letter Queue
â”‚   â”œâ”€â”€ webhook_service.py         # Service traitement webhooks Monday.com
â”‚   â””â”€â”€ monitoring_service.py      # Dashboard monitoring temps rÃ©el
â”œâ”€â”€
â”œâ”€â”€ admin/                          # Interface administration
â”‚   â”œâ”€â”€ backend/
â”‚   â”‚   â””â”€â”€ main.py               # Backend admin FastAPI
â”‚   â””â”€â”€ monitoring_endpoints.py    # Dashboard RabbitMQ + AI-Agent monitoring
â”œâ”€â”€
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ logger.py                 # Configuration logging structurÃ©
â”‚   â”œâ”€â”€ helpers.py                # Fonctions utilitaires
â”‚   â””â”€â”€ custom_monitoring.py      # MÃ©triques personnalisÃ©es
â”œâ”€â”€
â”œâ”€â”€ docs/                          # Documentation technique
â”‚   â”œâ”€â”€ RABBITMQ_INTEGRATION.md   # Guide intÃ©gration RabbitMQ âœ¨ NOUVEAU
â”‚   â”œâ”€â”€ CHANGEMENTS_SUITE_COMMENTAIRES.md
â”‚   â”œâ”€â”€ FUNCTIONS_LIST.md
â”‚   â”œâ”€â”€ GUIDE_DECLENCHEMENT.md
â”‚   â”œâ”€â”€ GUIDE_ITEM_TRACKING.md
â”‚   â”œâ”€â”€ GUIDE_NGROK.md
â”‚   â”œâ”€â”€ INFRASTRUCTURE_V2.md
â”‚   â”œâ”€â”€ LOCAL_ARCHITECTURE.md
â”‚   â”œâ”€â”€ PERFORMANCE_OPTIMIZATIONS.md
â”‚   â”œâ”€â”€ SECURITY_ARCHITECTURE.md
â”‚   â””â”€â”€ WEBHOOK_PAYLOAD_FORMAT.md
â””â”€â”€
â””â”€â”€ venv/                          # Environnement virtuel Python

ğŸ—ï¸ ARCHITECTURE MISE Ã€ JOUR :

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FLUX COMPLET AI-AGENT                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1. DÃ‰CLENCHEMENT                                               â”‚
â”‚    ğŸ“‹ Monday.com â†’ Webhook sÃ©curisÃ© â†’ FastAPI                  â”‚
â”‚                                                                 â”‚
â”‚ 2. RÃ‰CEPTION & TRANSMISSION                                    â”‚
â”‚    ğŸš€ FastAPI â†’ Validation â†’ RabbitMQ â†’ PostgreSQL             â”‚
â”‚                                                                 â”‚
â”‚ 3. ORCHESTRATION LANGGRAPH (8 nÅ“uds)                          â”‚
â”‚    ğŸ”§ prepare_environment                                       â”‚
â”‚    ğŸ” analyze_requirements (IA analysis) âœ¨ NOUVEAU            â”‚
â”‚    ğŸ’» implement_task (AI Hub multi-provider)                   â”‚
â”‚    ğŸ§ª run_tests (pytest + coverage)                           â”‚
â”‚    ğŸ” debug_code (AI debugging loop)                          â”‚
â”‚    ğŸ” quality_assurance (linters + security) âœ¨ NOUVEAU       â”‚
â”‚    ğŸ“ finalize_pr (GitHub API)                                â”‚
â”‚    ğŸ“‹ update_monday (status + comment)                        â”‚
â”‚                                                                 â”‚
â”‚ 4. FINALISATION                                                â”‚
â”‚    ğŸ™ GitHub PR + ğŸ“‹ Monday update + ğŸ—„ï¸ PostgreSQL logs       â”‚
â”‚                                                                 â”‚
â”‚ 5. MONITORING                                                  â”‚
â”‚    ğŸ“Š Dashboard + ğŸ° RabbitMQ UI + â˜ï¸ Cloud monitoring        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ”§ TECHNOLOGIES INTÃ‰GRÃ‰ES :
- ğŸ° RabbitMQ (Message broker)
- âš™ï¸ Celery (Background processing)
- ğŸ—„ï¸ PostgreSQL (Results backend + logs)
- ğŸ§  LangGraph (Workflow orchestration)
- ğŸ¤– AI Hub (Claude + OpenAI multi-provider)
- ğŸ§ª Testing Engine (pytest + coverage + security)
- ğŸ“Š Monitoring (Real-time dashboard + metrics)
- ğŸ”’ Security (Webhook signatures + linting)

âœ¨ NOUVEAUTÃ‰S v2.0 :
- analyze_requirements : Analyse IA structurÃ©e des spÃ©cifications
- quality_assurance : Linters automatisÃ©s (pylint, flake8, black, bandit)
- RabbitMQ : Architecture message queuing robuste
- Dead Letter Queue : Gestion des Ã©checs
- Dashboard intÃ©grÃ© : Monitoring RabbitMQ + AI-Agent
- MÃ©triques enrichies : QA scores, complexity analysis

ğŸ¯ CONFORMITÃ‰ : 100% avec la conception demandÃ©e
ğŸ“¦ NÅ’UDS LANGGRAPH : 8/8 implÃ©mentÃ©s
ğŸ—ï¸ ARCHITECTURE : Production-ready avec RabbitMQ